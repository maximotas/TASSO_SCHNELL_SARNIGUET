<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API UniteAI</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <style>
        body {
            background-color: #f8f9fa;
        }
        .container {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            max-width: 800px;
        }
        .action-item {
            margin-bottom: 15px;
        }
        .action-item button,
        .action-item a {
            width: 100%;
        }
        .description {
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 5px;
        }
        .form-inline {
            justify-content: center;
        }
        .btn-outline-primary {
            border-color: #007bff;
            color: #007bff;
        }
        .btn-outline-primary:hover {
            background-color: #007bff;
            color: white;
        }
    </style>
</head>
<body>
    <div class="container mt-5">
        <h1 class="mb-4 text-center">Bienvenue sur l'API UniteAI</h1>
        <p class="lead text-center">Explorez les différentes fonctionnalités de notre API en utilisant les boutons ci-dessous.</p>
        <div id="loadingMessage" class="text-center" style="display: none;">
            <p>Chargement des données, veuillez patienter...</p>
        </div>
        <!-- GET Data Button -->
        <div class="action-item">
            <div class="description">Cliquez pour charger et afficher les données de tous les articles.</div>
            <button id="getDataButton" class="btn btn-outline-primary">GET Data</button>
        </div>
        <!-- Voir les Articles Button -->
        <div class="action-item">
            <div class="description">Affichez la liste des articles disponibles.</div>
            <a href="/articles" class="btn btn-outline-primary">Voir les Articles</a>
        </div>
        <!-- Voir un Article Spécifique Form -->
        <div class="action-item">
            <div class="description">Entrez un numéro d'article pour afficher un article spécifique.</div>
            <form id="articleForm" class="form-inline my-2">
                <input class="form-control mr-sm-2" type="number" placeholder="Numéro d'article" aria-label="Article" name="number" min="1" required>
                <button class="btn btn-outline-success my-2" type="submit">Voir l'Article</button>
            </form>
        </div>
        <!-- Analyse ML des Articles Button -->
        <div class="action-item">
            <div class="description">Effectuez une analyse de machine learning sur tous les articles.</div>
            <a href="/ml" class="btn btn-outline-primary">Analyse ML des Articles</a>
        </div>
        <!-- Analyse ML d'un Article Spécifique Form -->
        <div class="action-item">
            <div class="description">Effectuez une analyse de machine learning sur un article spécifique.</div>
            <form id="mlArticleForm" class="form-inline my-2">
                <input class="form-control mr-sm-2" type="number" placeholder="Numéro d'article pour ML" aria-label="MLArticle" name="mlNumber" min="1" required>
                <button class="btn btn-outline-danger my-2" type="submit">Analyse ML de l'Article</button>
            </form>
        </div>
    </div>

    <script>
        document.getElementById('getDataButton').onclick = function() {
            document.getElementById('loadingMessage').style.display = 'block';
            setTimeout(function() {
                window.location.href = '/get_data';
            }, 2000);
        };

        document.getElementById('articleForm').onsubmit = function(e) {
            e.preventDefault();
            var number = this.number.value;
            if (number) {
                window.location.href = '/article/' + number;
            }
        };

        document.getElementById('mlArticleForm').onsubmit = function(e) {
            e.preventDefault();
            var mlNumber = this.mlNumber.value;
            if (mlNumber) {
                window.location.href = '/ml/' + mlNumber;
            }
        };
    </script>
</body>
</html>
